select * from usuario
select * from bolsista

UPDATE usuario
SET funcao = 'bolsista'
WHERE cpf = '12345678901';

DELETE FROM usuario
WHERE cpf = '98765432109';

CREATE OR REPLACE FUNCTION atualizar_bolsista()
RETURNS TRIGGER AS $$
BEGIN
    IF NEW.funcao ILIKE 'aluno' THEN
        DELETE FROM Bolsista WHERE cpf = NEW.cpf;
    ELSIF NEW.funcao ILIKE 'bolsista' THEN
        INSERT INTO Bolsista (cpf, pnome, unome, email, senha, status, funcao)
        VALUES (NEW.cpf, NEW.pnome, NEW.unome, NEW.email, NEW.senha, NEW.status, NEW.funcao);
        RETURN NULL;
    END IF;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_atualizar_bolsista
AFTER INSERT OR UPDATE OF funcao ON Usuario
FOR EACH ROW
EXECUTE FUNCTION atualizar_bolsista();
